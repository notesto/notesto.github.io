<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Ubuntu Server —— 一键脚本 | 在地球的那些年</title><meta name="author" content="晴空"><meta name="copyright" content="晴空"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="ffffff"><meta name="description" content="在 Ubuntu Server 20.04 系统中，使用的 Docker 脚本。">
<meta property="og:type" content="article">
<meta property="og:title" content="Ubuntu Server —— 一键脚本">
<meta property="og:url" content="https://rahn256.github.io/2023/06/09/%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC/index.html">
<meta property="og:site_name" content="在地球的那些年">
<meta property="og:description" content="在 Ubuntu Server 20.04 系统中，使用的 Docker 脚本。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://rahn256.github.io/img/28.webp">
<meta property="article:published_time" content="2023-06-09T19:53:01.000Z">
<meta property="article:modified_time" content="2023-07-04T11:03:26.000Z">
<meta property="article:author" content="晴空">
<meta property="article:tag" content="脚本">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://rahn256.github.io/img/28.webp"><link rel="shortcut icon" href="/img/message.png"><link rel="canonical" href="https://rahn256.github.io/2023/06/09/%E4%B8%80%E9%94%AE%E8%84%9A%E6%9C%AC/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":700},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: true,
    post: false
  },
  runtime: '天',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Ubuntu Server —— 一键脚本',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-07-04 11:03:26'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><link rel="stylesheet" href="/css/style.css"><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/11.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">64</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 导航</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/28.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="在地球的那些年"><span class="site-name">在地球的那些年</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 导航</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Ubuntu Server —— 一键脚本</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-06-09T19:53:01.000Z" title="发表于 2023-06-09 19:53:01">2023-06-09</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-07-04T11:03:26.000Z" title="更新于 2023-07-04 11:03:26">2023-07-04</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Docker/">Docker</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">12.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>74分钟</span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="Ubuntu-Server-20-04"><a href="#Ubuntu-Server-20-04" class="headerlink" title="Ubuntu Server 20.04"></a>Ubuntu Server 20.04</h1><blockquote>
<p>在 Ubuntu Server 20.04 系统中，使用的 Docker 脚本。</p>
</blockquote>
<hr>
<h2 id="Alist"><a href="#Alist" class="headerlink" title="Alist"></a>Alist</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Alist V3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">alist_install</span></span>()&#123;</span><br><span class="line">    curl -fsSL <span class="string">&quot;https://alist.nn.ci/v3.sh&quot;</span> | bash -s install /root/docker</span><br><span class="line">    ufw allow 5244/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：5244&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网站 = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):5244&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Alist 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">alist_update</span></span>()&#123;</span><br><span class="line">    curl -fsSL <span class="string">&quot;https://alist.nn.ci/v3.sh&quot;</span> | bash -s update /root/docker</span><br><span class="line">    green <span class="string">&quot;Alist 更新完毕&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">alist_uninstall</span></span>()&#123;</span><br><span class="line">    curl -fsSL <span class="string">&quot;https://alist.nn.ci/v3.sh&quot;</span> | bash -s uninstall /root/docker</span><br><span class="line">    green <span class="string">&quot;Alist 卸载完毕&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">start_menu</span></span>()&#123;</span><br><span class="line">	clear</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red    <span class="string">&quot; Alist —— 本地网盘挂载&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 1. Alist 安装&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 2. Alist 更新&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 3. Alist 卸载&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red    <span class="string">&quot; 0. 退出脚本&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	<span class="built_in">read</span> -p <span class="string">&quot;请输入数字:&quot;</span> menuNumberInput</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&quot;<span class="variable">$menuNumberInput</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">        1 )</span><br><span class="line">            alist_install</span><br><span class="line">	;;</span><br><span class="line">        2 )</span><br><span class="line">            alist_update</span><br><span class="line">	;;</span><br><span class="line">        3 )</span><br><span class="line">            alist_uninstall</span><br><span class="line">	;;</span><br><span class="line">        0 )</span><br><span class="line">            <span class="built_in">exit</span></span><br><span class="line">	;;</span><br><span class="line">        * )</span><br><span class="line">            clear</span><br><span class="line">            red <span class="string">&quot;请输入正确数字!&quot;</span></span><br><span class="line">            start_menu</span><br><span class="line">	;;</span><br><span class="line">	<span class="keyword">esac</span></span><br><span class="line">&#125;</span><br><span class="line">start_menu</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Nginx-Proxy-Manager"><a href="#Nginx-Proxy-Manager" class="headerlink" title="Nginx Proxy Manager"></a>Nginx Proxy Manager</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Nginx Proxy Manager</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> nginx-proxy-<span class="function"><span class="title">manager_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 80 || nc -z localhost 81 || nc -z localhost 443; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 端口 80、81 或 443 已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;npm&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; npm 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Nginx-Proxy-Manager ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Nginx-Proxy-Manager</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Nginx-Proxy-Manager</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  app:</span></span><br><span class="line"><span class="string">    image: &#x27;jc21/nginx-proxy-manager:latest&#x27;</span></span><br><span class="line"><span class="string">    container_name: npm</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - &#x27;80:80&#x27;</span></span><br><span class="line"><span class="string">      - &#x27;81:81&#x27;</span></span><br><span class="line"><span class="string">      - &#x27;443:443&#x27;</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./data:/data</span></span><br><span class="line"><span class="string">      - ./letsencrypt:/etc/letsencrypt</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 80/tcp</span><br><span class="line">	ufw allow 81/tcp</span><br><span class="line">	ufw allow 443/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：80 81 443&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:81&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):81&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 初始帐号 admin@example.com&quot;</span></span><br><span class="line">	green <span class="string">&quot; 初始密码 changeme&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Nginx Proxy Manager 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">nginx-proxy-manager_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Frps"><a href="#Frps" class="headerlink" title="Frps"></a>Frps</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Frps</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">frps_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;frps&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; frps 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Frps ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Frps</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Frps</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;frps.ini&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		green <span class="string">&quot; 文件已经存在, 跳过创建步骤.&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	  	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; frps.ini</span></span><br><span class="line"><span class="string"># frps.ini</span></span><br><span class="line"><span class="string">[common]</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">bind_port= 52244</span></span><br><span class="line"><span class="string">kcp_bind_port = 52244</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">dashboard_user= admin</span></span><br><span class="line"><span class="string">dashboard_pwd= passwd</span></span><br><span class="line"><span class="string">dashboard_port= 9527</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">token = frps.rahn.top</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">		green <span class="string">&quot; frps.ini 创建成功&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    frps:</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        network_mode: host</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./frps.ini:/etc/frp/frps.ini&#x27;</span></span><br><span class="line"><span class="string">        container_name: frps</span></span><br><span class="line"><span class="string">        image: snowdreamtech/frps</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 9527/tcp</span><br><span class="line">	ufw allow 52244/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：9527&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:9527&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):9527&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 登陆账号：admin&quot;</span></span><br><span class="line">	green <span class="string">&quot; 登陆账号：passwd&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; token：frps.rahn.top&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Frps 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">frps_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Frpc"><a href="#Frpc" class="headerlink" title="Frpc"></a>Frpc</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Frpc</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">frpc_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;frpc&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; frpc 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Frpc ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Frpc</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Frpc</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;frpc.ini&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">	  green <span class="string">&quot; 文件已经存在, 跳过创建步骤.&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	  	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; frpc.ini</span></span><br><span class="line"><span class="string"># frpc.ini</span></span><br><span class="line"><span class="string">[common]</span></span><br><span class="line"><span class="string">server_addr = 45.76.126.21</span></span><br><span class="line"><span class="string">server_port = 52244</span></span><br><span class="line"><span class="string">token = PyAXaSbAfiaTHXDAHmj5AuRj</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">[alist]</span></span><br><span class="line"><span class="string">type = tcp</span></span><br><span class="line"><span class="string">local_ip = 127.0.0.1</span></span><br><span class="line"><span class="string">local_port = 5244</span></span><br><span class="line"><span class="string">remote_port = 7000</span></span><br><span class="line"><span class="string">custom_domains = nasalist.rahn.top</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">		green <span class="string">&quot; frpc.ini 创建成功&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    frpc:</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        network_mode: host</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./frpc.ini:/etc/frp/frpc.ini&#x27;</span></span><br><span class="line"><span class="string">        container_name: frpc</span></span><br><span class="line"><span class="string">        image: snowdreamtech/frpc</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; 服务器 IP = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;)&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Frpc 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">frpc_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Yourls"><a href="#Yourls" class="headerlink" title="Yourls"></a>Yourls</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Yourls</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">yourls_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8200; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8200 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;yourls&quot;</span> &amp;&amp; docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;yourls_mysql&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; yourls yourls_mysql 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Yourls ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Yourls</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Yourls</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;3.5&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  mysql:</span></span><br><span class="line"><span class="string">    image: mysql:5.7</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - MYSQL_ROOT_PASSWORD=yourls</span></span><br><span class="line"><span class="string">      - MYSQL_DATABASE=yourls</span></span><br><span class="line"><span class="string">      - MYSQL_USER=yourls</span></span><br><span class="line"><span class="string">      - MYSQL_PASSWORD=yourls</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./mysql/db/:/var/lib/mysql</span></span><br><span class="line"><span class="string">      - ./mysql/conf/:/etc/mysql/conf.d</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">    container_name: yourls_mysql</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  yourls:</span></span><br><span class="line"><span class="string">    image: yourls</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - &quot;8200:80&quot;</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      YOURLS_DB_HOST: mysql</span></span><br><span class="line"><span class="string">      YOURLS_DB_USER: yourls</span></span><br><span class="line"><span class="string">      YOURLS_DB_PASS: yourls</span></span><br><span class="line"><span class="string">      YOURLS_DB_NAME: yourls</span></span><br><span class="line"><span class="string">      YOURLS_USER: admin</span></span><br><span class="line"><span class="string">      YOURLS_PASS: passwd</span></span><br><span class="line"><span class="string">      YOURLS_SITE: https://rahn.top</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./yourls/:/var/www/html</span></span><br><span class="line"><span class="string">    container_name: yourls</span></span><br><span class="line"><span class="string">    links:</span></span><br><span class="line"><span class="string">      - mysql:mysql</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8200/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8200&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8200&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = https://rahn.top/admin&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 登陆账号：admin&quot;</span></span><br><span class="line">	green <span class="string">&quot; 登陆密码：passwd&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Yourls 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">yourls_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Hnet"><a href="#Hnet" class="headerlink" title="Hnet"></a>Hnet</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Hnet</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hnet_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 5120; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 5120 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;hnet&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; hnet 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/HNet ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/HNet</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/HNet</span><br><span class="line">	<span class="keyword">if</span> [ -d <span class="string">&quot;web&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		green <span class="string">&quot; web 文件夹已经存在, 跳过执行 docker cp 命令&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		docker run -itd --name hnet -p 5120:56559 rahn2029/hnet-web:2.0</span><br><span class="line">		docker <span class="built_in">cp</span> hnet:web $(<span class="built_in">pwd</span>)/</span><br><span class="line">		docker stop hnet &amp;&amp; docker <span class="built_in">rm</span> hnet</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    hideipnetwork-web:</span></span><br><span class="line"><span class="string">        container_name: hnet</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - 5120:56559</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - ./web:/web</span></span><br><span class="line"><span class="string">        image: rahn2029/hnet-web:2.0</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 5120/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：5120&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:5120&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):5120&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; HNet 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">hnet_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Tachidesk-Server"><a href="#Tachidesk-Server" class="headerlink" title="Tachidesk Server"></a>Tachidesk Server</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Tachidesk Server</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> tachidesk-<span class="function"><span class="title">server_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 4567; <span class="keyword">then</span></span><br><span class="line">		green <span class="string">&quot; 4567 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;tachidesk&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		green <span class="string">&quot; tachidesk 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Tachidesk ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Tachidesk</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Tachidesk</span><br><span class="line">	<span class="keyword">if</span> [ -d <span class="string">&quot;data&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">chmod</span> -R 777 data</span><br><span class="line">		green <span class="string">&quot; data 文件夹已经存在, 跳过执行 docker cp 命令&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		docker run -itd -p 4567:4567 --name tachidesk rahn2029/tachidesk</span><br><span class="line">		docker <span class="built_in">cp</span> tachidesk:/home/suwayomi/.local/share/Tachidesk $(<span class="built_in">pwd</span>)/data</span><br><span class="line">		<span class="built_in">chmod</span> -R 777 data</span><br><span class="line">		docker stop tachidesk &amp;&amp; docker <span class="built_in">rm</span> tachidesk</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  suwayomi:</span></span><br><span class="line"><span class="string">    image: rahn2029/tachidesk</span></span><br><span class="line"><span class="string">    container_name: tachidesk</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./data:/./home/suwayomi/.local/share/Tachidesk</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 4567:4567</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 4567/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：4567&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:4567&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):4567&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Tachidesk 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">tachidesk-server_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Portainer-ce"><a href="#Portainer-ce" class="headerlink" title="Portainer-ce"></a>Portainer-ce</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Portainer</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">portainer_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 9000; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 9000 端口已经被占用，请检查相关进程。&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;portainer&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; portainer 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Portainer ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Portainer</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Portainer</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    portainer-ce:</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        container_name: portainer</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;9000:9000&#x27;</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;/var/run/docker.sock:/var/run/docker.sock&#x27;</span></span><br><span class="line"><span class="string">        image: rahn2029/portainer-ce</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 9000/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：9000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:9000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):9000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Portainer-ce 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">portainer_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Minimalist-Web-Notepad"><a href="#Minimalist-Web-Notepad" class="headerlink" title="Minimalist Web Notepad"></a>Minimalist Web Notepad</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Minimalist Web Notepad</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> minimalist-web-<span class="function"><span class="title">notepad_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8006; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8006 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;minimalist-web-notepad&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; minimalist-web-notepad 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Minimalist-Web-Notepad ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Minimalist-Web-Notepad</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Minimalist-Web-Notepad</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    minimalist-web-notepad:</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        container_name: minimalist-web-notepad</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./data:/var/www/html/_tmp&#x27;</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;8006:80&#x27;</span></span><br><span class="line"><span class="string">        image: rahn2029/minimalist-web-notepad</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8006/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8006&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8006&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8006&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Minimalist Web Notepad 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">minimalist-web-notepad_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Vaultwarden"><a href="#Vaultwarden" class="headerlink" title="Vaultwarden"></a>Vaultwarden</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Vaultwarden</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">vaultwarden_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8000; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8000 端口已经被占用，请检查相关进程。&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;vaultwarden&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; vaultwarden 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Vaultwarden ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Vaultwarden</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Vaultwarden</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    server:</span></span><br><span class="line"><span class="string">        container_name: vaultwarden</span></span><br><span class="line"><span class="string">        restart: unless-stopped</span></span><br><span class="line"><span class="string">        environment:</span></span><br><span class="line"><span class="string">            - SIGNUPS_ALLOWED=true</span></span><br><span class="line"><span class="string">            - WEBSOCKET_ENABLED=true</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./data/:/data/&#x27;</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;8000:80&#x27;</span></span><br><span class="line"><span class="string">        image: &#x27;vaultwarden/server:latest&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8000/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Vaultwarden 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">vaultwarden_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Searxng"><a href="#Searxng" class="headerlink" title="Searxng"></a>Searxng</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Searxng</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">searxng_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 19723; <span class="keyword">then</span></span><br><span class="line">		green <span class="string">&quot; 19723 端口已经被占用，请检查相关进程。&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;searxng&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		green <span class="string">&quot; searxng 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Searxng ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Searxng</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Searxng</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  searxng:</span></span><br><span class="line"><span class="string">    container_name: searxng</span></span><br><span class="line"><span class="string">    image: searxng/searxng:latest</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">     - &quot;19723:8080&quot;</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./Searxng:/etc/searxng:rw</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - SEARXNG_BASE_URL=http://192.168.6.212:19723</span></span><br><span class="line"><span class="string">    cap_drop:</span></span><br><span class="line"><span class="string">      - ALL</span></span><br><span class="line"><span class="string">    cap_add:</span></span><br><span class="line"><span class="string">      - CHOWN</span></span><br><span class="line"><span class="string">      - SETGID</span></span><br><span class="line"><span class="string">      - SETUID</span></span><br><span class="line"><span class="string">      - DAC_OVERRIDE</span></span><br><span class="line"><span class="string">    logging:</span></span><br><span class="line"><span class="string">      driver: &quot;json-file&quot;</span></span><br><span class="line"><span class="string">      options:</span></span><br><span class="line"><span class="string">        max-size: &quot;1m&quot;</span></span><br><span class="line"><span class="string">        max-file: &quot;1&quot;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 19723/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：19723&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:19723&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):19723&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Searxng 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">searxng_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Linux-Command"><a href="#Linux-Command" class="headerlink" title="Linux Command"></a>Linux Command</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Linux Command</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> linux-<span class="function"><span class="title">command_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 9665; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 9665 端口已经被占用，请检查相关进程。&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;linux-command&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; linux-command 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Linux-Command ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Linux-Command</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Linux-Command</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    linux-command:</span></span><br><span class="line"><span class="string">        container_name: linux-command</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;9665:3000&#x27;</span></span><br><span class="line"><span class="string">        image: &#x27;wcjiang/linux-command:latest&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 9665/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：9665&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:9665&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):9665&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Linux Command 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">linux-command_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Invidious"><a href="#Invidious" class="headerlink" title="Invidious"></a>Invidious</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Invidious</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">invidious_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 5000; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 5000 端口已经被占用，请检查相关进程。&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;invidious&quot;</span> &amp;&amp; docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;invidious_postgres&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot;invidious 和 invidious_postgres 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Invidious ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Invidious</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Invidious</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;3&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  invidious:</span></span><br><span class="line"><span class="string">    image: quay.io/invidious/invidious:latest</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    container_name: invidious</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - &quot;5000:3000&quot;</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      INVIDIOUS_CONFIG: |</span></span><br><span class="line"><span class="string">        db:</span></span><br><span class="line"><span class="string">          dbname: invidious</span></span><br><span class="line"><span class="string">          user: kemal</span></span><br><span class="line"><span class="string">          password: kemal</span></span><br><span class="line"><span class="string">          host: invidious-db</span></span><br><span class="line"><span class="string">          port: 5432</span></span><br><span class="line"><span class="string">        check_tables: true</span></span><br><span class="line"><span class="string">    healthcheck:</span></span><br><span class="line"><span class="string">      test: wget -nv --tries=1 --spider http://127.0.0.1:3000/api/v1/comments/jNQXAC9IVRw || exit 1</span></span><br><span class="line"><span class="string">      interval: 30s</span></span><br><span class="line"><span class="string">      timeout: 5s</span></span><br><span class="line"><span class="string">      retries: 2</span></span><br><span class="line"><span class="string">    logging:</span></span><br><span class="line"><span class="string">      options:</span></span><br><span class="line"><span class="string">        max-size: &quot;1G&quot;</span></span><br><span class="line"><span class="string">        max-file: &quot;4&quot;</span></span><br><span class="line"><span class="string">    depends_on:</span></span><br><span class="line"><span class="string">      - invidious-db</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  invidious-db:</span></span><br><span class="line"><span class="string">    image: docker.io/library/postgres:14</span></span><br><span class="line"><span class="string">    container_name: invidious_postgres</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./postgresdata:/var/lib/postgresql/data</span></span><br><span class="line"><span class="string">      - ./config/sql:/config/sql</span></span><br><span class="line"><span class="string">      - ./docker/init-invidious-db.sh:/docker-entrypoint-initdb.d/init-invidious-db.sh</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      POSTGRES_DB: invidious</span></span><br><span class="line"><span class="string">      POSTGRES_USER: kemal</span></span><br><span class="line"><span class="string">      POSTGRES_PASSWORD: kemal</span></span><br><span class="line"><span class="string">    healthcheck:</span></span><br><span class="line"><span class="string">      test: [&quot;CMD-SHELL&quot;, &quot;pg_isready -U $$POSTGRES_USER -d $$POSTGRES_DB&quot;]</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 5000/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：5000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:5000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):5000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Invidious 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">invidious_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="FreshRSS"><a href="#FreshRSS" class="headerlink" title="FreshRSS"></a>FreshRSS</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># FreshRSS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">freshrss_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 5380; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 5380 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;freshrss&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; freshrss 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/FreshRSS ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/FreshRSS</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/FreshRSS</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;2.1&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  freshrss:</span></span><br><span class="line"><span class="string">    image: linuxserver/freshrss:latest</span></span><br><span class="line"><span class="string">    container_name: freshrss</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./data:/config</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 5380:80</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 5380/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：5380&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:5380&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):5380&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; FreshRSS 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">freshrss_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Twikoo"><a href="#Twikoo" class="headerlink" title="Twikoo"></a>Twikoo</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Twikoo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">twikoo_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 4001; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 4001 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;twikoo&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; twikoo 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Twikoo ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Twikoo</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Twikoo</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;3.5&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  twikoo:</span></span><br><span class="line"><span class="string">    container_name: twikoo</span></span><br><span class="line"><span class="string">    image: imaegoo/twikoo</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - TWIKOO_THROTTLE=1000</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 4001:8080</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./data:/app/data</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 4001/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：4001&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:4001&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):4001&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Twikoo 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">twikoo_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Codex-Docs"><a href="#Codex-Docs" class="headerlink" title="Codex Docs"></a>Codex Docs</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Codex Docs</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> codex-<span class="function"><span class="title">docs_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 3313; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 3313 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;codex-docs&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; codex-docs 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Codex-Docs ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Codex-Docs</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Codex-Docs</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docs-config.yaml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">	  green <span class="string">&quot; docs-config.yaml 文件已存在, 跳过创建步骤.&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	  	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docs-config.yaml</span></span><br><span class="line"><span class="string">port: 3000</span></span><br><span class="line"><span class="string">host: &quot;localhost&quot;</span></span><br><span class="line"><span class="string">uploads:</span></span><br><span class="line"><span class="string">  driver: &quot;local&quot;</span></span><br><span class="line"><span class="string">  local:</span></span><br><span class="line"><span class="string">    path: &quot;./uploads&quot;</span></span><br><span class="line"><span class="string">  s3:</span></span><br><span class="line"><span class="string">    bucket: &quot;my-bucket&quot;</span></span><br><span class="line"><span class="string">    region: &quot;eu-central-1&quot;</span></span><br><span class="line"><span class="string">    baseUrl: &quot;http://docs-static.codex.so.s3-website.eu-central-1.amazonaws.com&quot;</span></span><br><span class="line"><span class="string">    keyPrefix: &quot;/&quot;</span></span><br><span class="line"><span class="string">    accessKeyId: &quot;my-access-key&quot;</span></span><br><span class="line"><span class="string">    secretAccessKey: &quot;my-secret-key&quot;</span></span><br><span class="line"><span class="string">frontend:</span></span><br><span class="line"><span class="string">  title: &quot;CodeX Docs&quot;</span></span><br><span class="line"><span class="string">  description: &quot;Free Docs app powered by Editor.js ecosystemt&quot;</span></span><br><span class="line"><span class="string">  startPage: &quot;&quot;</span></span><br><span class="line"><span class="string">  misprintsChatId: &quot;12344564&quot;</span></span><br><span class="line"><span class="string">  yandexMetrikaId: &quot;&quot;</span></span><br><span class="line"><span class="string">  carbon:</span></span><br><span class="line"><span class="string">    serve: &quot;&quot;</span></span><br><span class="line"><span class="string">    placement: &quot;&quot;</span></span><br><span class="line"><span class="string">  menu:</span></span><br><span class="line"><span class="string">    - &quot;Guides&quot;</span></span><br><span class="line"><span class="string">    - title: &quot;CodeX&quot;</span></span><br><span class="line"><span class="string">      uri: &quot;https://codex.so&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">auth:</span></span><br><span class="line"><span class="string">  password: passwd</span></span><br><span class="line"><span class="string">  secret: supersecret</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">hawk:</span></span><br><span class="line"><span class="string">#  frontendToken: &quot;123&quot;</span></span><br><span class="line"><span class="string">#  backendToken: &quot;123&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">database:</span></span><br><span class="line"><span class="string">  driver: local # you can change database driver here. &#x27;mongodb&#x27; or &#x27;local&#x27;</span></span><br><span class="line"><span class="string">  local:</span></span><br><span class="line"><span class="string">    path: ./db</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">		green <span class="string">&quot; docs-config.yaml 配置文件创建完毕！&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;3.2&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  docs:</span></span><br><span class="line"><span class="string">    image: rahn2029/codex-docs</span></span><br><span class="line"><span class="string">    container_name: codex-docs</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - &quot;3313:3000&quot;</span></span><br><span class="line"><span class="string">    command:</span></span><br><span class="line"><span class="string">      - node</span></span><br><span class="line"><span class="string">      - dist/backend/app.js</span></span><br><span class="line"><span class="string">      - -c</span></span><br><span class="line"><span class="string">      - docs-config.yaml</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./uploads:/usr/src/app/uploads</span></span><br><span class="line"><span class="string">      - ./db:/usr/src/app/db</span></span><br><span class="line"><span class="string">      - ./docs-config.yaml:/usr/src/app/docs-config.yaml</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 3313/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：3313&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:3313&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 服务器 IP = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):3313&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 文档密码：passwd&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Codex Docs 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">codex-docs_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="RSSHub"><a href="#RSSHub" class="headerlink" title="RSSHub"></a>RSSHub</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># RSSHub</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">rsshub_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 1200; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 1200 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;rsshub&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; rsshub 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/RssHub ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/RssHub</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/RssHub</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  rsshub:</span></span><br><span class="line"><span class="string">    image: diygod/rsshub:chromium-bundled</span></span><br><span class="line"><span class="string">    container_name: rsshub</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 1200:1200</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - CACHE_EXPIRE=3600</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 1200/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：1200&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:1200&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):1200&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; RSSHub 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">rsshub_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Jackett"><a href="#Jackett" class="headerlink" title="Jackett"></a>Jackett</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Jackett</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">jackett_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 9117; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 9117 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;jackett&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; jackett 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Jackett ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Jackett</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Jackett</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;2.1&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  jackett:</span></span><br><span class="line"><span class="string">    image: linuxserver/jackett:latest</span></span><br><span class="line"><span class="string">    container_name: jackett</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - PUID=1000</span></span><br><span class="line"><span class="string">      - PGID=1000</span></span><br><span class="line"><span class="string">      - TZ=Asia/shanghai</span></span><br><span class="line"><span class="string">      - AUTO_UPDATE=true</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./config:/config</span></span><br><span class="line"><span class="string">      - ./downloads:/downloads</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 9117:9117</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 9117/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：9117&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:9117&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):9117&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Jackett 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">jackett_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Bookstack"><a href="#Bookstack" class="headerlink" title="Bookstack"></a>Bookstack</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Bookstack</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">bookstack_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 6875; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 6875 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;bookstack&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; bookstack 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Bookstack ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Bookstack</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Bookstack</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;2&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  bookstack:</span></span><br><span class="line"><span class="string">    image: linuxserver/bookstack</span></span><br><span class="line"><span class="string">    container_name: bookstack</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - PUID=1000</span></span><br><span class="line"><span class="string">      - PGID=1000</span></span><br><span class="line"><span class="string">      - APP_URL=http://192.168.6.212:6875</span></span><br><span class="line"><span class="string">      - DB_HOST=bookstack_db</span></span><br><span class="line"><span class="string">      - DB_USER=bookstack</span></span><br><span class="line"><span class="string">      - DB_PASS=&lt;yourdbpass&gt;</span></span><br><span class="line"><span class="string">      - DB_DATABASE=bookstackapp</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./books:/config</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 6875:80</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    depends_on:</span></span><br><span class="line"><span class="string">      - bookstack_db</span></span><br><span class="line"><span class="string">  bookstack_db:</span></span><br><span class="line"><span class="string">    image: linuxserver/mariadb</span></span><br><span class="line"><span class="string">    container_name: bookstack_db</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - PUID=1000</span></span><br><span class="line"><span class="string">      - PGID=1000</span></span><br><span class="line"><span class="string">      - MYSQL_ROOT_PASSWORD=&lt;yourdbpass&gt;</span></span><br><span class="line"><span class="string">      - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">      - MYSQL_DATABASE=bookstackapp</span></span><br><span class="line"><span class="string">      - MYSQL_USER=bookstack</span></span><br><span class="line"><span class="string">      - MYSQL_PASSWORD=&lt;yourdbpass&gt;</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./data:/config</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 6875/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：6875&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:6875&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):6875&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 登陆账号：admin@admin.com &quot;</span></span><br><span class="line">	green <span class="string">&quot; 登陆密码：password&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Bookstack 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">bookstack_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Calibre-Web"><a href="#Calibre-Web" class="headerlink" title="Calibre Web"></a>Calibre Web</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Calibre Web</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> calibre-<span class="function"><span class="title">web_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8083; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8083 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;calibre-web&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; calibre-web 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Calibre-Web ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Calibre-Web</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Calibre-Web</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;2.1&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  calibre-web:</span></span><br><span class="line"><span class="string">    image: linuxserver/calibre-web:latest</span></span><br><span class="line"><span class="string">    container_name: calibre-web</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - PUID=1000</span></span><br><span class="line"><span class="string">      - PGID=1000</span></span><br><span class="line"><span class="string">      - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">      - DOCKER_MODS=linuxserver/mods:universal-calibre</span></span><br><span class="line"><span class="string">      - OAUTHLIB_RELAX_TOKEN_SCOPE=1</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./config:/config</span></span><br><span class="line"><span class="string">      - ./books:/books</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 8083:8083</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8083/tcp</span><br><span class="line">	<span class="built_in">chmod</span> 777 books</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8083&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8083&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8083&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 第一次安装需要进入容器内部生成 metadata.db 数据库，步骤如下：&quot;</span></span><br><span class="line">	green <span class="string">&quot; cd: can&#x27;t cd to app/calibre/bin 报错，需要等待容器初始化完毕！&quot;</span></span><br><span class="line">	green <span class="string">&quot; 大概等待 3 分钟左右！&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; docker exec -it calibre-web sh&quot;</span></span><br><span class="line">	green <span class="string">&quot; cd app/calibre/bin&quot;</span></span><br><span class="line">	green <span class="string">&quot; calibredb restore_database --really-do-it --with-library /books&quot;</span></span><br><span class="line">	green <span class="string">&quot; chmod a+w /books/metadata.db&quot;</span></span><br><span class="line">	green <span class="string">&quot; exit&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 登陆账号：admin &quot;</span></span><br><span class="line">	green <span class="string">&quot; 登陆密码：admin123&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Calibre Web 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">calibre-web_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Memos"><a href="#Memos" class="headerlink" title="Memos"></a>Memos</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Memos</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">memos_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 5230; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 5230 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;memos&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; memos 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Memos ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Memos</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Memos</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    usememos:</span></span><br><span class="line"><span class="string">        container_name: memos</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;5230:5230&#x27;</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./memos/:/var/opt/memos&#x27;</span></span><br><span class="line"><span class="string">        image: &#x27;neosmemo/memos&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 5230/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：5230&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:5230&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):5230&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Memos 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">memos_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="MoRSS"><a href="#MoRSS" class="headerlink" title="MoRSS"></a>MoRSS</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># MoRSS</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">morss_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8887; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8887 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;morss&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; morss 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/MoRSS ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/MoRSS</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/MoRSS</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  morss:</span></span><br><span class="line"><span class="string">    image: pictuga/morss</span></span><br><span class="line"><span class="string">    container_name: morss</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 8887:8000</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8887/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8887&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8887&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8887&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; MoRSS 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">morss_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Reader"><a href="#Reader" class="headerlink" title="Reader"></a>Reader</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Reader</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">reader_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 4396; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 4396 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;reader&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; reader 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Reader ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Reader</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Reader</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.1&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  reader:</span></span><br><span class="line"><span class="string">    image: hectorqin/reader</span></span><br><span class="line"><span class="string">    container_name: reader</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 4396:8080</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./logs:/logs</span></span><br><span class="line"><span class="string">      - ./storage:/storage</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - SPRING_PROFILES_ACTIVE=prod</span></span><br><span class="line"><span class="string">      - READER_APP_USERBOOKLIMIT=500</span></span><br><span class="line"><span class="string">      - READER_APP_CACHECHAPTERCONTENT=true</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 4396/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：4396&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:4396&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):4396&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Reader 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">reader_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="WeChat-Markdown-Editor"><a href="#WeChat-Markdown-Editor" class="headerlink" title="WeChat Markdown Editor"></a>WeChat Markdown Editor</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># WeChat Markdown Editor</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> wechat-markdown-<span class="function"><span class="title">editor_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 13480; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 13480 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;wechat&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; wechat 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/WeChat-Markdown-Editor ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/WeChat-Markdown-Editor</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/WeChat-Markdown-Editor</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    md:</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        container_name: wechat</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;13480:80&#x27;</span></span><br><span class="line"><span class="string">        image: &#x27;doocs/md:latest&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 13480/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：13480&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:13480&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):13480&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; WeChat Markdown Editor 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">wechat-markdown-editor_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="ZFile"><a href="#ZFile" class="headerlink" title="ZFile"></a>ZFile</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># ZFile</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">zfile_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 9180; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 9180 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;zfile&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; zfile 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/ZFile ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/ZFile</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/ZFile</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    zfile:</span></span><br><span class="line"><span class="string">        container_name: zfile</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;9180:8080&#x27;</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./db:/root/.zfile-v4/db&#x27;</span></span><br><span class="line"><span class="string">            - &#x27;./logs:/root/.zfile-v4/logs&#x27;</span></span><br><span class="line"><span class="string">            - &#x27;./file:/data/file&#x27;</span></span><br><span class="line"><span class="string">        image: zhaojun1998/zfile</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 9180/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：9180&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:9180&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):9180&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; ZFile 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">zfile_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="WordPress"><a href="#WordPress" class="headerlink" title="WordPress"></a>WordPress</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># WordPress</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">wordpress_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 7080 &amp;&amp; nc -z localhost 7081; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 7080 7081 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;wordpress&quot;</span> &amp;&amp; docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;wordpress_mysql&quot;</span> &amp;&amp; docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;wordpress_phpmyadmin&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; wordpress wordpress_mysql wordpress_phpmyadmin 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/WordPress ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/WordPress</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/WordPress</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;uploads.ini&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">	  green <span class="string">&quot; uploads.ini 文件已经存在, 跳过创建步骤.&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">	  	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; uploads.ini</span></span><br><span class="line"><span class="string">file_uploads = On</span></span><br><span class="line"><span class="string">upload_max_filesize = 256M</span></span><br><span class="line"><span class="string">post_max_size = 256M</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">		green <span class="string">&quot; uploads.ini 创建成功,用于设置上传大小。&quot;</span></span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.1&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  wordpress:</span></span><br><span class="line"><span class="string">    container_name: wordpress</span></span><br><span class="line"><span class="string">    image: wordpress</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 7080:80</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      WORDPRESS_DB_HOST: db</span></span><br><span class="line"><span class="string">      WORDPRESS_DB_USER: wordpress_user</span></span><br><span class="line"><span class="string">      WORDPRESS_DB_PASSWORD: wordpress_password</span></span><br><span class="line"><span class="string">      WORDPRESS_DB_NAME: wordpress_db</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./html:/var/www/html</span></span><br><span class="line"><span class="string">      - ./uploads.ini:/usr/local/etc/php/conf.d/uploads.ini</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  db:</span></span><br><span class="line"><span class="string">    container_name: wordpress_mysql</span></span><br><span class="line"><span class="string">    image: mysql:5.7</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      MYSQL_DATABASE: wordpress_db</span></span><br><span class="line"><span class="string">      MYSQL_USER: wordpress_user</span></span><br><span class="line"><span class="string">      MYSQL_PASSWORD: wordpress_password</span></span><br><span class="line"><span class="string">      MYSQL_RANDOM_ROOT_PASSWORD: rootpassword</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./mysql:/var/lib/mysql</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  phpmyadmin:</span></span><br><span class="line"><span class="string">    container_name: wordpress_phpmyadmin</span></span><br><span class="line"><span class="string">    image: phpmyadmin</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 7081:80</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      PMA_HOST: db</span></span><br><span class="line"><span class="string">      MYSQL_ROOT_PASSWORD : rootpassword</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 7080/tcp</span><br><span class="line">	ufw allow 7081/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：7080 7081&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; WordPress&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:7080&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; PHPMyAdmin&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:7081&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; WordPress&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):7080&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; PHPMyAdmin&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):7081&quot;</span>	</span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; WordPress 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">wordpress_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="qBittorrent"><a href="#qBittorrent" class="headerlink" title="qBittorrent"></a>qBittorrent</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># qBittorrent</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">qbittorrent_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 6881 &amp;&amp; nc -z localhost 8081; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 6881 8081 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;qbittorrent&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; qbittorrent 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/qBittorrent ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/qBittorrent</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/qBittorrent</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;2&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  qbittorrent:</span></span><br><span class="line"><span class="string">    image: linuxserver/qbittorrent</span></span><br><span class="line"><span class="string">    container_name: qbittorrent</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - PUID=1000</span></span><br><span class="line"><span class="string">      - PGID=1000</span></span><br><span class="line"><span class="string">      - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">      - UMASK_SET=022</span></span><br><span class="line"><span class="string">      - WEBUI_PORT=8081</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./config:/config</span></span><br><span class="line"><span class="string">      - ./downloads:/downloads</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 6881:6881</span></span><br><span class="line"><span class="string">      - 6881:6881/udp</span></span><br><span class="line"><span class="string">      - 8081:8081</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 6881/tcp</span><br><span class="line">	ufw allow 6881/udp</span><br><span class="line">	ufw allow 8081/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8081&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8081&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8081&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 初始账号：admin&quot;</span></span><br><span class="line">	green <span class="string">&quot; 初始密码：adminadmin&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; qBittorrent 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">qbittorrent_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Halo"><a href="#Halo" class="headerlink" title="Halo"></a>Halo</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Halo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">halo_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8040; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8040 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;halo&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; halo 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Halo ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Halo</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Halo</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    halo:</span></span><br><span class="line"><span class="string">        container_name: halo</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;8040:8090&#x27;</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./halo:/root/.halo&#x27;</span></span><br><span class="line"><span class="string">        image: &#x27;halohub/halo:1.5.4&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8040/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8040&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8040&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8040&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Halo 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">halo_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Stirling-PDF"><a href="#Stirling-PDF" class="headerlink" title="Stirling PDF"></a>Stirling PDF</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Stirling PDF</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> stirling-<span class="function"><span class="title">pdf_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8077; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8077 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;spdf&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; spdf 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Stirling-PDF ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Stirling-PDF</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Stirling-PDF</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  s-pdf:</span></span><br><span class="line"><span class="string">    image: frooodle/s-pdf</span></span><br><span class="line"><span class="string">    container_name: spdf</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 8077:8080</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8077/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8077&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8077&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8077&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Stirling PDF 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">stirling-pdf_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Sshwifty"><a href="#Sshwifty" class="headerlink" title="Sshwifty"></a>Sshwifty</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Sshwifty</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">sshwifty_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8090; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8090 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;sshwifty&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; sshwifty 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Sshwifty ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Sshwifty</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Sshwifty</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    sshwifty:</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;8090:8182&#x27;</span></span><br><span class="line"><span class="string">        container_name: sshwifty</span></span><br><span class="line"><span class="string">        image: &#x27;niruix/sshwifty:latest&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8090/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8090&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8090&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8090&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Sshwifty 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">sshwifty_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="RustDesk"><a href="#RustDesk" class="headerlink" title="RustDesk"></a>RustDesk</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># RustDesk</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">rustdesk_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 21115 &amp;&amp; nc -z localhost 21116 &amp;&amp; nc -z localhost 21117 &amp;&amp; nc -z localhost 21118 &amp;&amp; nc -z localhost 21119; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 21115 21116 21117 21118 21119 中的端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;hbbs&quot;</span> &amp;&amp; docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;hbbr&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; hbbs hbbr 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/RustDesk ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/RustDesk</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/RustDesk</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">networks:</span></span><br><span class="line"><span class="string">  rustdesk-net:</span></span><br><span class="line"><span class="string">    external: false</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  hbbs:</span></span><br><span class="line"><span class="string">    container_name: hbbs</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 21115:21115</span></span><br><span class="line"><span class="string">      - 21116:21116</span></span><br><span class="line"><span class="string">      - 21116:21116/udp</span></span><br><span class="line"><span class="string">      - 21118:21118</span></span><br><span class="line"><span class="string">    image: rustdesk/rustdesk-server:latest</span></span><br><span class="line"><span class="string">    command: hbbs -r https://rustdesk.rahn.top</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./hbbs:/root</span></span><br><span class="line"><span class="string">    networks:</span></span><br><span class="line"><span class="string">      - rustdesk-net</span></span><br><span class="line"><span class="string">    depends_on:</span></span><br><span class="line"><span class="string">      - hbbr</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">  hbbr:</span></span><br><span class="line"><span class="string">    container_name: hbbr</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 21117:21117</span></span><br><span class="line"><span class="string">      - 21119:21119</span></span><br><span class="line"><span class="string">    image: rustdesk/rustdesk-server:latest</span></span><br><span class="line"><span class="string">    command: hbbr</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./hbbr:/root</span></span><br><span class="line"><span class="string">    networks:</span></span><br><span class="line"><span class="string">      - rustdesk-net</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 21115/tcp</span><br><span class="line">	ufw allow 21116/udp</span><br><span class="line">	ufw allow 21116/tcp</span><br><span class="line">	ufw allow 21117/tcp</span><br><span class="line">	ufw allow 21118/tcp</span><br><span class="line">	ufw allow 21119/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：21117&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:21117&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):21117&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; ID 服务器 = https://rustdesk.rahn.top&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/RustDesk/hbbs</span><br><span class="line">	green <span class="string">&quot; Key       = <span class="subst">$(cat id_ed25519.pub)</span>&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; RustDesk 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">rustdesk_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Weserv"><a href="#Weserv" class="headerlink" title="Weserv"></a>Weserv</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Weserv</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">weserv_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 9999; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 9999 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;weserv&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; weserv 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Weserv ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Weserv</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Weserv</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    weserv:</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;9999:80&#x27;</span></span><br><span class="line"><span class="string">        container_name: weserv</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        image: &#x27;ghcr.io/weserv/images:5.x&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 9999/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：9999&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:9999&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):9999&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Weserv 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">weserv_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Jellyfin"><a href="#Jellyfin" class="headerlink" title="Jellyfin"></a>Jellyfin</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Jellyfin</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">jellyfin_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8096; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8096 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;jellyfin&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; jellyfin 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Jellyfin ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Jellyfin</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Jellyfin</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    jellyfin:</span></span><br><span class="line"><span class="string">        container_name: jellyfin</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;8096:8096&#x27;</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./config:/config&#x27;</span></span><br><span class="line"><span class="string">            - &#x27;./cache:/cache&#x27;</span></span><br><span class="line"><span class="string">            - &#x27;./media:/media&#x27;</span></span><br><span class="line"><span class="string">            - &#x27;./movies:/movies&#x27;</span></span><br><span class="line"><span class="string">            - &#x27;./tvshows:/tvshows&#x27;</span></span><br><span class="line"><span class="string">            - &#x27;./animation:/animation&#x27;</span></span><br><span class="line"><span class="string">        environment:</span></span><br><span class="line"><span class="string">            - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        image: rahn2029/jellyfin</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8096/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8096&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8096&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8096&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Jellyfin 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">jellyfin_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Homepage"><a href="#Homepage" class="headerlink" title="Homepage"></a>Homepage</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Homepage</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">homepage_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 3344; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 3344 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;homepage&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; homepage 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Homepage ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Homepage</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Homepage</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;3.3&quot;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  homepage:</span></span><br><span class="line"><span class="string">    image: rahn2029/homepage</span></span><br><span class="line"><span class="string">    container_name: homepage</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 3344:3000</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./config:/app/config</span></span><br><span class="line"><span class="string">      - ./images:/app/public/images</span></span><br><span class="line"><span class="string">      - /var/run/docker.sock:/var/run/docker.sock</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 3344/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：3344&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:3344&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):3344&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Homepage 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">homepage_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Hexo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">hexo_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 4000; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 4000 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;hexo&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; hexo 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Hexo ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Hexo</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Hexo</span><br><span class="line">	<span class="keyword">if</span> [ -d <span class="string">&quot;blog&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		green <span class="string">&quot; blog 文件夹已经存在, 跳过执行 docker cp 命令&quot;</span></span><br><span class="line">	<span class="keyword">else</span></span><br><span class="line">		docker run -itd --name hexo -p 4000:4000 rahn2029/hexo-github</span><br><span class="line">		docker <span class="built_in">cp</span> hexo:blog $(<span class="built_in">pwd</span>)/blog</span><br><span class="line">		docker stop hexo &amp;&amp; docker <span class="built_in">rm</span> hexo</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    hexo-butterfly:</span></span><br><span class="line"><span class="string">        container_name: hexo</span></span><br><span class="line"><span class="string">        restart: always</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;4000:4000&#x27;</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;./blog:/blog&#x27;</span></span><br><span class="line"><span class="string">        image: &#x27;rahn2029/hexo-github&#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 4000/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：4000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:4000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址 = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):4000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Hexo 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">hexo_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Duplicati"><a href="#Duplicati" class="headerlink" title="Duplicati"></a>Duplicati</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Duplicati</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">duplicati_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8050; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8050 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;duplicati&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; duplicati 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Duplicati ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Duplicati</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Duplicati</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;2.1&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  duplicati:</span></span><br><span class="line"><span class="string">    image: lscr.io/linuxserver/duplicati</span></span><br><span class="line"><span class="string">    container_name: duplicati</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - PUID=0</span></span><br><span class="line"><span class="string">      - PGID=0</span></span><br><span class="line"><span class="string">      - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./config:/config</span></span><br><span class="line"><span class="string">      - ./backups:/backups</span></span><br><span class="line"><span class="string">      - /root/docker:/source</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 8050:8200</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8050/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8050&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8050&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8050&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Duplicati 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">duplicati_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Syncthing"><a href="#Syncthing" class="headerlink" title="Syncthing"></a>Syncthing</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Syncthing</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">syncthing_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 8384; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 8384 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;syncthing&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; syncthing 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Syncthing ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Syncthing</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Syncthing</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &quot;2.1&quot;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  syncthing:</span></span><br><span class="line"><span class="string">    image: lscr.io/linuxserver/syncthing</span></span><br><span class="line"><span class="string">    container_name: syncthing</span></span><br><span class="line"><span class="string">    hostname: syncthing</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - PUID=1000</span></span><br><span class="line"><span class="string">      - PGID=1000</span></span><br><span class="line"><span class="string">      - TZ=Asia/Shanghai</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - ./config:/config</span></span><br><span class="line"><span class="string">    ports:</span></span><br><span class="line"><span class="string">      - 8384:8384</span></span><br><span class="line"><span class="string">      - 22000:22000/tcp</span></span><br><span class="line"><span class="string">      - 22000:22000/udp</span></span><br><span class="line"><span class="string">      - 21027:21027/udp</span></span><br><span class="line"><span class="string">    restart: unless-stopped</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 8384/tcp</span><br><span class="line">	ufw allow 22000/tcp</span><br><span class="line">	ufw allow 22000/udp</span><br><span class="line">	ufw allow 21027/udp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：8384&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:8384&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):8384&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Syncthing 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">syncthing_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="V2RayA"><a href="#V2RayA" class="headerlink" title="V2RayA"></a>V2RayA</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># V2RayA</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">v2raya_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;v2raya&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; v2raya 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/V2RayA ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/V2RayA</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/V2RayA</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">  v2raya:</span></span><br><span class="line"><span class="string">    image: mzz2017/v2raya</span></span><br><span class="line"><span class="string">    container_name: v2raya</span></span><br><span class="line"><span class="string">    restart: always</span></span><br><span class="line"><span class="string">    privileged: true</span></span><br><span class="line"><span class="string">    network_mode: host</span></span><br><span class="line"><span class="string">    environment:</span></span><br><span class="line"><span class="string">      - V2RAYA_LOG_FILE=/tmp/v2raya.log</span></span><br><span class="line"><span class="string">    volumes:</span></span><br><span class="line"><span class="string">      - /lib/modules:/lib/modules:ro</span></span><br><span class="line"><span class="string">      - /etc/resolv.conf:/etc/resolv.conf</span></span><br><span class="line"><span class="string">      - /etc/v2raya:/etc/v2raya</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：2017&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:2017&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):2017&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; V2RayA 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">v2raya_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="X-UI"><a href="#X-UI" class="headerlink" title="X-UI"></a>X-UI</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># X-UI</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> x-<span class="function"><span class="title">ui_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 52441 &amp;&amp; nc -z localhost 52442 ; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 52441 52442 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	bash &lt;(curl -Ls https://raw.githubusercontent.com/vaxilu/x-ui/master/install.sh)</span><br><span class="line">	ufw allow 52441/tcp</span><br><span class="line">	ufw allow 52442/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：52441&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:52441&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址 = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):52441&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; location:/docs&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):52441/docs&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; 节点端口：52442&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Advanced&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;location /docs &#123;</span></span><br><span class="line"><span class="string">        proxy_redirect off;</span></span><br><span class="line"><span class="string">        proxy_pass http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):52442;</span></span><br><span class="line"><span class="string">        proxy_http_version 1.1;</span></span><br><span class="line"><span class="string">        proxy_set_header Upgrade <span class="variable">$http_upgrade</span>;</span></span><br><span class="line"><span class="string">        proxy_set_header Connection &quot;</span>upgrade<span class="string">&quot;;</span></span><br><span class="line"><span class="string">        proxy_set_header Host <span class="variable">$http_host</span>;</span></span><br><span class="line"><span class="string">        proxy_read_timeout 300s;</span></span><br><span class="line"><span class="string">        # Show realip in v2ray access.log</span></span><br><span class="line"><span class="string">        proxy_set_header X-Real-IP <span class="variable">$remote_addr</span>;</span></span><br><span class="line"><span class="string">        proxy_set_header X-Forwarded-For <span class="variable">$proxy_add_x_forwarded_for</span>;</span></span><br><span class="line"><span class="string">&#125;&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; X-UI 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">x-ui_install</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="SwapFile"><a href="#SwapFile" class="headerlink" title="SwapFile"></a>SwapFile</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># SwapFile</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">add_swap</span></span>()&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment"># root 权限</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$EUID</span> -ne 0 ]]; <span class="keyword">then</span></span><br><span class="line">	red <span class="string">&quot;Error:This script must be run as root!&quot;</span></span><br><span class="line">	<span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ovz 检测</span></span><br><span class="line"><span class="keyword">if</span> [[ -d <span class="string">&quot;/proc/vz&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">	red <span class="string">&quot;Your VPS is based on OpenVZ，not supported!&quot;</span></span><br><span class="line">	<span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">green <span class="string">&quot;请输入需要添加的 swap 大小，建议为内存的 2 倍！&quot;</span></span><br><span class="line">yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line"><span class="built_in">read</span> -p <span class="string">&quot;请输入 swap 的数值: &quot;</span> swapsize</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查是否存在 swapfile</span></span><br><span class="line">grep -q <span class="string">&quot;swapfile&quot;</span> /etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果不存在将为其创建 swap</span></span><br><span class="line"><span class="keyword">if</span> [ $? -ne 0 ]; <span class="keyword">then</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot;并未发现 swapfile 文件，正在为您创建 swapfile 文件&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	fallocate -l <span class="variable">$&#123;swapsize&#125;</span>M /swapfile</span><br><span class="line">	<span class="built_in">chmod</span> 600 /swapfile</span><br><span class="line">	mkswap /swapfile</span><br><span class="line">	swapon /swapfile</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&#x27;/swapfile none swap defaults 0 0&#x27;</span> &gt;&gt; /etc/fstab</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot;swapfile 文件创建成功，swap 信息如下：&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	<span class="built_in">cat</span> /proc/swaps</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	<span class="built_in">cat</span> /proc/meminfo | grep Swap</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red <span class="string">&quot;swapfile 文件已经存在！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">del_swap</span></span>()&#123;</span><br><span class="line"></span><br><span class="line"><span class="comment"># root 权限</span></span><br><span class="line"><span class="keyword">if</span> [[ <span class="variable">$EUID</span> -ne 0 ]]; <span class="keyword">then</span></span><br><span class="line">	red <span class="string">&quot;Error:This script must be run as root!&quot;</span></span><br><span class="line">	<span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ovz 检测</span></span><br><span class="line"><span class="keyword">if</span> [[ -d <span class="string">&quot;/proc/vz&quot;</span> ]]; <span class="keyword">then</span></span><br><span class="line">	red <span class="string">&quot;Your VPS is based on OpenVZ，not supported!&quot;</span></span><br><span class="line">	<span class="built_in">exit</span> 1</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查是否存在 swapfile</span></span><br><span class="line">grep -q <span class="string">&quot;swapfile&quot;</span> /etc/fstab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果存在将其删除</span></span><br><span class="line"><span class="keyword">if</span> [ $? -eq 0 ]; <span class="keyword">then</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot;发现 swapfile 文件，正在将其删除...&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	sed -i <span class="string">&#x27;/swapfile/d&#x27;</span> /etc/fstab</span><br><span class="line">	<span class="built_in">echo</span> <span class="string">&quot;3&quot;</span> &gt; /proc/sys/vm/drop_caches</span><br><span class="line">	swapoff -a</span><br><span class="line">	<span class="built_in">rm</span> -f /swapfile</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">    green <span class="string">&quot;swapfile 文件删除完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red <span class="string">&quot;并未发现 swapfile 文件，删除失败！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">start_menu</span></span>()&#123;</span><br><span class="line">	clear</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red    <span class="string">&quot; SwapFile —— 交换空间&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 1. 添加 swapfile&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 2. 删除 swapfile&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red    <span class="string">&quot; 0. 退出脚本&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	<span class="built_in">read</span> -p <span class="string">&quot;请输入数字:&quot;</span> menuNumberInput</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&quot;<span class="variable">$menuNumberInput</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">        1 )</span><br><span class="line">            add_swap</span><br><span class="line">	;;</span><br><span class="line">        2 )</span><br><span class="line">            del_swap</span><br><span class="line">	;;</span><br><span class="line">        0 )</span><br><span class="line">            <span class="built_in">exit</span></span><br><span class="line">	;;</span><br><span class="line">        * )</span><br><span class="line">            clear</span><br><span class="line">            red <span class="string">&quot;请输入正确数字!&quot;</span></span><br><span class="line">            start_menu</span><br><span class="line">	;;</span><br><span class="line">	<span class="keyword">esac</span></span><br><span class="line">&#125;</span><br><span class="line">start_menu</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Clear"><a href="#Clear" class="headerlink" title="Clear"></a>Clear</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有不使用的镜像</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">imageprune</span></span>()&#123;</span><br><span class="line">	docker image prune --force --all</span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; docker image prune --force --all&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 删除所有不使用的镜像 完毕!&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除所有停止的容器</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">containerprune</span></span>()&#123;</span><br><span class="line">	docker container prune -f</span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; docker container prune -f&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 删除所有停止的容器 完毕!&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># Tachidesk</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">tachidesk_clear</span></span>()&#123;</span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Tachidesk/data/thumbnails</span><br><span class="line">	<span class="built_in">rm</span> -rf *</span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Tachidesk thumbnails 清空完毕!&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 磁盘</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">diskcondition</span></span>()&#123;</span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot;磁盘使用信息如下：&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">	<span class="built_in">df</span> -h /dev/vda1</span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 内存</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">freememory</span></span>()&#123;</span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot;内存使用信息如下：&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">	free -m</span><br><span class="line">	yellow <span class="string">&quot;--------------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">start_menu</span></span>()&#123;</span><br><span class="line">	clear</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red    <span class="string">&quot; SwapFile —— 交换空间&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 1. 查看磁盘信息&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 2. 查看内存信息&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 3. 删除所有停止的容器&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 4. 删除所有不使用的镜像&quot;</span></span><br><span class="line">	green  <span class="string">&quot; 5. Tachidesk thumbnails 文件夹清空&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	red    <span class="string">&quot; 0. 退出脚本&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	<span class="built_in">read</span> -p <span class="string">&quot;请输入数字:&quot;</span> menuNumberInput</span><br><span class="line">	<span class="keyword">case</span> <span class="string">&quot;<span class="variable">$menuNumberInput</span>&quot;</span> <span class="keyword">in</span></span><br><span class="line">        1 )</span><br><span class="line">            diskcondition</span><br><span class="line">	;;</span><br><span class="line">        2 )</span><br><span class="line">            freememory</span><br><span class="line">	;;</span><br><span class="line">        3 )</span><br><span class="line">            containerprune</span><br><span class="line">	;;</span><br><span class="line">        4 )</span><br><span class="line">            imageprune</span><br><span class="line">	;;</span><br><span class="line">        5 )</span><br><span class="line">            tachidesk_clear</span><br><span class="line">	;;</span><br><span class="line">        0 )</span><br><span class="line">            <span class="built_in">exit</span></span><br><span class="line">	;;</span><br><span class="line">        * )</span><br><span class="line">            clear</span><br><span class="line">            red <span class="string">&quot;请输入正确数字!&quot;</span></span><br><span class="line">            start_menu</span><br><span class="line">	;;</span><br><span class="line">	<span class="keyword">esac</span></span><br><span class="line">&#125;</span><br><span class="line">start_menu</span><br></pre></td></tr></table></figure>



<hr>
<h2 id="Coder"><a href="#Coder" class="headerlink" title="Coder"></a>Coder</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#! /bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">red</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[31m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">green</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[32m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="title">yellow</span></span>()&#123;</span><br><span class="line">    <span class="built_in">echo</span> -e <span class="string">&quot;\033[33m\033[01m<span class="variable">$1</span>\033[0m&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Coder</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="function"><span class="title">coder_install</span></span>()&#123;</span><br><span class="line">	<span class="keyword">if</span> nc -z localhost 10000; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; 10000 端口已经被占用，请检查相关进程&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> docker ps -a --format <span class="string">&quot;&#123;&#123;.Names&#125;&#125;&quot;</span> | grep -q <span class="string">&quot;coder&quot;</span>; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">echo</span> <span class="string">&quot; coder 容器名已经被占用&quot;</span></span><br><span class="line">		<span class="built_in">exit</span> 1</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="keyword">if</span> [ ! -d /root/docker/Coder ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">mkdir</span> -p /root/docker/Coder</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cd</span> /root/docker/Coder</span><br><span class="line">	<span class="keyword">if</span> [ -f <span class="string">&quot;docker-compose.yml&quot;</span> ]; <span class="keyword">then</span></span><br><span class="line">		<span class="built_in">rm</span> docker-compose.yml</span><br><span class="line">	<span class="keyword">fi</span></span><br><span class="line">	<span class="built_in">cat</span> &lt;&lt;<span class="string">EOF &gt; docker-compose.yml</span></span><br><span class="line"><span class="string">version: &#x27;3.3&#x27;</span></span><br><span class="line"><span class="string">services:</span></span><br><span class="line"><span class="string">    code-server:</span></span><br><span class="line"><span class="string">        user: root</span></span><br><span class="line"><span class="string">        ports:</span></span><br><span class="line"><span class="string">            - &#x27;10000:8080&#x27;</span></span><br><span class="line"><span class="string">        container_name: coder</span></span><br><span class="line"><span class="string">        volumes:</span></span><br><span class="line"><span class="string">            - &#x27;/root/docker:/home/code&#x27;</span></span><br><span class="line"><span class="string">            #- &#x27;./config.yaml:/root/.config/code-server/config.yaml&#x27;</span></span><br><span class="line"><span class="string">        image: rahn2029/vscode:1.0</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line">	docker-compose up -d</span><br><span class="line">	ufw allow 10000/tcp</span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">	green <span class="string">&quot; Web 端口：10000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Docker IP = <span class="subst">$(ip addr show docker0 | grep &#x27;inet\b&#x27; | awk &#x27;&#123;print $2&#125;&#x27; | cut -d &#x27;/&#x27; -f1)</span>:10000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Web 网址  = http://<span class="subst">$(ifconfig $(ifconfig | grep -oP &#x27;enp\w+&#x27;)</span> | grep &#x27;inet &#x27; | awk &#x27;&#123;print <span class="variable">$2</span>&#125;&#x27;):10000&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 将 config.yaml 文件拷贝到当前文件夹下&quot;</span></span><br><span class="line">	green <span class="string">&quot; docker cp code-server:/root/.config/code-server/config.yaml /root/docker/Coder/config.yaml&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; 查看 Web 登陆密码&quot;</span></span><br><span class="line">	green <span class="string">&quot; docker exec code-server cat /root/.config/code-server/config.yaml&quot;</span></span><br><span class="line">	<span class="built_in">echo</span></span><br><span class="line">	green <span class="string">&quot; Coder 安装完毕！&quot;</span></span><br><span class="line">	yellow <span class="string">&quot;-----------------------------------------------&quot;</span></span><br><span class="line">&#125;</span><br><span class="line">coder_install</span><br></pre></td></tr></table></figure>



<hr>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%84%9A%E6%9C%AC/">脚本</a></div><div class="post_share"></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2023/06/10/yourls/" title="Yourls —— 短链接服务"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/8.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Yourls —— 短链接服务</div></div></a></div><div class="next-post pull-right"><a href="/2023/06/09/Cloudflare15%E5%B9%B4%E8%AF%81%E4%B9%A6/" title="Cloudflare —— 15 年证书"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/6.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Cloudflare —— 15 年证书</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-lazy-src="/img/11.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">晴空</div><div class="author-info__description">Hello</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">52</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">64</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Ubuntu-Server-20-04"><span class="toc-text">Ubuntu Server 20.04</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#Alist"><span class="toc-text">Alist</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Nginx-Proxy-Manager"><span class="toc-text">Nginx Proxy Manager</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Frps"><span class="toc-text">Frps</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Frpc"><span class="toc-text">Frpc</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Yourls"><span class="toc-text">Yourls</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hnet"><span class="toc-text">Hnet</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Tachidesk-Server"><span class="toc-text">Tachidesk Server</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Portainer-ce"><span class="toc-text">Portainer-ce</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Minimalist-Web-Notepad"><span class="toc-text">Minimalist Web Notepad</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vaultwarden"><span class="toc-text">Vaultwarden</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Searxng"><span class="toc-text">Searxng</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-Command"><span class="toc-text">Linux Command</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Invidious"><span class="toc-text">Invidious</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#FreshRSS"><span class="toc-text">FreshRSS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Twikoo"><span class="toc-text">Twikoo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Codex-Docs"><span class="toc-text">Codex Docs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RSSHub"><span class="toc-text">RSSHub</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jackett"><span class="toc-text">Jackett</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Bookstack"><span class="toc-text">Bookstack</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Calibre-Web"><span class="toc-text">Calibre Web</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Memos"><span class="toc-text">Memos</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#MoRSS"><span class="toc-text">MoRSS</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Reader"><span class="toc-text">Reader</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WeChat-Markdown-Editor"><span class="toc-text">WeChat Markdown Editor</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ZFile"><span class="toc-text">ZFile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#WordPress"><span class="toc-text">WordPress</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#qBittorrent"><span class="toc-text">qBittorrent</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Halo"><span class="toc-text">Halo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stirling-PDF"><span class="toc-text">Stirling PDF</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Sshwifty"><span class="toc-text">Sshwifty</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#RustDesk"><span class="toc-text">RustDesk</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Weserv"><span class="toc-text">Weserv</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Jellyfin"><span class="toc-text">Jellyfin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Homepage"><span class="toc-text">Homepage</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Hexo"><span class="toc-text">Hexo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Duplicati"><span class="toc-text">Duplicati</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Syncthing"><span class="toc-text">Syncthing</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#V2RayA"><span class="toc-text">V2RayA</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#X-UI"><span class="toc-text">X-UI</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SwapFile"><span class="toc-text">SwapFile</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Clear"><span class="toc-text">Clear</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Coder"><span class="toc-text">Coder</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>